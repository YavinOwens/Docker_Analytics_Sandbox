{"ast":null,"code":"import { Client } from 'minio';\nconst minioClient = new Client({\n  endPoint: process.env.REACT_APP_MINIO_ENDPOINT || 'localhost',\n  port: parseInt(process.env.REACT_APP_MINIO_PORT) || 9000,\n  useSSL: process.env.REACT_APP_MINIO_USE_SSL === 'true',\n  accessKey: process.env.REACT_APP_MINIO_ACCESS_KEY || 'minioadmin',\n  secretKey: process.env.REACT_APP_MINIO_SECRET_KEY || 'minioadmin'\n});\nconst BUCKET_NAME = process.env.REACT_APP_MINIO_BUCKET || 'repos';\nexport const MinioClient = {\n  async listObjects(prefix = '') {\n    try {\n      const objects = [];\n      const stream = await minioClient.listObjects(BUCKET_NAME, prefix, true);\n      for await (const obj of stream) {\n        const isDirectory = obj.name.endsWith('/');\n        const name = isDirectory ? obj.name.slice(prefix.length, -1).split('/')[0] : obj.name.slice(prefix.length);\n        objects.push({\n          name,\n          path: obj.name,\n          isDirectory,\n          size: obj.size,\n          lastModified: new Date(obj.lastModified).toLocaleString()\n        });\n      }\n      return objects;\n    } catch (error) {\n      console.error('Error listing objects:', error);\n      throw error;\n    }\n  },\n  async uploadFile(file, path) {\n    try {\n      const objectName = path ? `${path}/${file.name}` : file.name;\n      await minioClient.putObject(BUCKET_NAME, objectName, file);\n    } catch (error) {\n      console.error('Error uploading file:', error);\n      throw error;\n    }\n  },\n  async downloadFile(objectName) {\n    try {\n      const data = await minioClient.getObject(BUCKET_NAME, objectName);\n      return data;\n    } catch (error) {\n      console.error('Error downloading file:', error);\n      throw error;\n    }\n  },\n  async deleteFile(objectName) {\n    try {\n      await minioClient.removeObject(BUCKET_NAME, objectName);\n    } catch (error) {\n      console.error('Error deleting file:', error);\n      throw error;\n    }\n  }\n};","map":{"version":3,"names":["Client","minioClient","endPoint","process","env","REACT_APP_MINIO_ENDPOINT","port","parseInt","REACT_APP_MINIO_PORT","useSSL","REACT_APP_MINIO_USE_SSL","accessKey","REACT_APP_MINIO_ACCESS_KEY","secretKey","REACT_APP_MINIO_SECRET_KEY","BUCKET_NAME","REACT_APP_MINIO_BUCKET","MinioClient","listObjects","prefix","objects","stream","obj","isDirectory","name","endsWith","slice","length","split","push","path","size","lastModified","Date","toLocaleString","error","console","uploadFile","file","objectName","putObject","downloadFile","data","getObject","deleteFile","removeObject"],"sources":["/Users/admin/Documents/analytical_engineering/Docker_Analytics_Sandbox/src/react-app/src/services/minioClient.js"],"sourcesContent":["import { Client } from 'minio';\n\nconst minioClient = new Client({\n  endPoint: process.env.REACT_APP_MINIO_ENDPOINT || 'localhost',\n  port: parseInt(process.env.REACT_APP_MINIO_PORT) || 9000,\n  useSSL: process.env.REACT_APP_MINIO_USE_SSL === 'true',\n  accessKey: process.env.REACT_APP_MINIO_ACCESS_KEY || 'minioadmin',\n  secretKey: process.env.REACT_APP_MINIO_SECRET_KEY || 'minioadmin',\n});\n\nconst BUCKET_NAME = process.env.REACT_APP_MINIO_BUCKET || 'repos';\n\nexport const MinioClient = {\n  async listObjects(prefix = '') {\n    try {\n      const objects = [];\n      const stream = await minioClient.listObjects(BUCKET_NAME, prefix, true);\n      \n      for await (const obj of stream) {\n        const isDirectory = obj.name.endsWith('/');\n        const name = isDirectory \n          ? obj.name.slice(prefix.length, -1).split('/')[0]\n          : obj.name.slice(prefix.length);\n        \n        objects.push({\n          name,\n          path: obj.name,\n          isDirectory,\n          size: obj.size,\n          lastModified: new Date(obj.lastModified).toLocaleString(),\n        });\n      }\n      \n      return objects;\n    } catch (error) {\n      console.error('Error listing objects:', error);\n      throw error;\n    }\n  },\n\n  async uploadFile(file, path) {\n    try {\n      const objectName = path ? `${path}/${file.name}` : file.name;\n      await minioClient.putObject(BUCKET_NAME, objectName, file);\n    } catch (error) {\n      console.error('Error uploading file:', error);\n      throw error;\n    }\n  },\n\n  async downloadFile(objectName) {\n    try {\n      const data = await minioClient.getObject(BUCKET_NAME, objectName);\n      return data;\n    } catch (error) {\n      console.error('Error downloading file:', error);\n      throw error;\n    }\n  },\n\n  async deleteFile(objectName) {\n    try {\n      await minioClient.removeObject(BUCKET_NAME, objectName);\n    } catch (error) {\n      console.error('Error deleting file:', error);\n      throw error;\n    }\n  },\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}