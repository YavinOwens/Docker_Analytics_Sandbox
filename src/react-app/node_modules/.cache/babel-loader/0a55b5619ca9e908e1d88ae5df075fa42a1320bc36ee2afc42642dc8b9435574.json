{"ast":null,"code":"import { pipeline } from \"stream\";\nexport async function request(transport, opt, body = null) {\n  return new Promise((resolve, reject) => {\n    const requestObj = transport.request(opt, resp => {\n      resolve(resp);\n    });\n    if (!body || Buffer.isBuffer(body) || typeof body === 'string') {\n      requestObj.on('error', e => {\n        reject(e);\n      }).end(body);\n      return;\n    }\n\n    // pump readable stream\n    pipeline(body, requestObj, err => {\n      if (err) {\n        reject(err);\n      }\n    });\n  });\n}","map":{"version":3,"names":["pipeline","request","transport","opt","body","Promise","resolve","reject","requestObj","resp","Buffer","isBuffer","on","e","end","err"],"sources":["/Users/admin/Documents/analytical_engineering/Docker_Analytics_Sandbox/src/react-app/node_modules/minio/dist/esm/internal/request.ts"],"sourcesContent":["import type * as http from 'node:http'\nimport type * as https from 'node:https'\nimport type * as stream from 'node:stream'\nimport { pipeline } from 'node:stream'\n\nimport type { Transport } from './type.ts'\n\nexport async function request(\n  transport: Transport,\n  opt: https.RequestOptions,\n  body: Buffer | string | stream.Readable | null = null,\n): Promise<http.IncomingMessage> {\n  return new Promise<http.IncomingMessage>((resolve, reject) => {\n    const requestObj = transport.request(opt, (resp) => {\n      resolve(resp)\n    })\n\n    if (!body || Buffer.isBuffer(body) || typeof body === 'string') {\n      requestObj\n        .on('error', (e: unknown) => {\n          reject(e)\n        })\n        .end(body)\n\n      return\n    }\n\n    // pump readable stream\n    pipeline(body, requestObj, (err) => {\n      if (err) {\n        reject(err)\n      }\n    })\n  })\n}\n"],"mappings":"AAGA,SAASA,QAAQ;AAIjB,OAAO,eAAeC,OAAOA,CAC3BC,SAAoB,EACpBC,GAAyB,EACzBC,IAA8C,GAAG,IAAI,EACtB;EAC/B,OAAO,IAAIC,OAAO,CAAuB,CAACC,OAAO,EAAEC,MAAM,KAAK;IAC5D,MAAMC,UAAU,GAAGN,SAAS,CAACD,OAAO,CAACE,GAAG,EAAGM,IAAI,IAAK;MAClDH,OAAO,CAACG,IAAI,CAAC;IACf,CAAC,CAAC;IAEF,IAAI,CAACL,IAAI,IAAIM,MAAM,CAACC,QAAQ,CAACP,IAAI,CAAC,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;MAC9DI,UAAU,CACPI,EAAE,CAAC,OAAO,EAAGC,CAAU,IAAK;QAC3BN,MAAM,CAACM,CAAC,CAAC;MACX,CAAC,CAAC,CACDC,GAAG,CAACV,IAAI,CAAC;MAEZ;IACF;;IAEA;IACAJ,QAAQ,CAACI,IAAI,EAAEI,UAAU,EAAGO,GAAG,IAAK;MAClC,IAAIA,GAAG,EAAE;QACPR,MAAM,CAACQ,GAAG,CAAC;MACb;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}